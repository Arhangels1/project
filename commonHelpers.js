import{S as g,N as b,K as S,a as L,d as k,b as y,A as q}from"./assets/vendor-4763158c.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&f(l)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function f(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();const V={modules:[b,S],navigation:{nextEl:".reviews-next-btn",prevEl:".reviews-prev-btn"},direction:"horizontal",keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{320:{slidesPerView:1},767:{slidesPerView:2,spaceBetween:16},1439:{slidesPerView:4,spaceBetween:16}}},h=new g(".swiper-reviews",V);h.on("reachBeginning",function(){n.prevBtn.classList.add("reviews-prev-btn-off"),n.nextBtn.classList.remove("reviews-prev-btn-off")});h.on("reachEnd",function(){n.nextBtn.classList.add("reviews-prev-btn-off"),n.prevBtn.classList.remove("reviews-prev-btn-off")});const n={slideWrapper:document.querySelector(".reviews-swiper-wrapper"),prevBtn:document.querySelector(".reviews-prev-btn"),nextBtn:document.querySelector(".reviews-next-btn")};n.prevBtn.classList.add("reviews-prev-btn-off");async function j(){const e=await L.get("https://portfolio-js.b.goit.study/api/reviews",{headers:{accept:"application/json"}});n.slideWrapper.insertAdjacentHTML("afterbegin",A(e.data))}j();function O(e){return`<div class="swiper-slide reviews-swiper-slide">
          <img
            class="reviews-img"
            src="${e.avatar_url}"
            alt="Natalia"
          />
          <div class="reviews-desc">
            <p class="reviews-name">${e.author}</p>
            <p class="reviews-text">${e.review}</p>
          </div>
        </div>`}function A(e){return e.map(O).join("")}n.nextBtn.addEventListener("click",()=>{n.prevBtn.classList.remove("reviews-prev-btn-off")});n.prevBtn.addEventListener("click",()=>{n.nextBtn.classList.remove("reviews-prev-btn-off")});document.addEventListener("keydown",e=>{e.preventDefault(),e.code==="ArrowRight"&&n.prevBtn.classList.remove("reviews-prev-btn-off"),e.code==="ArrowLeft"&&n.nextBtn.classList.remove("reviews-prev-btn-off")});const M="https://portfolio-js.b.goit.study/api";async function P(e){try{return await L.post(`${M}/requests`,e)}catch(r){return r}}const _=document.querySelector(".footer__form"),c=document.querySelector('input[name="comment"]'),u=document.querySelector('input[name="email"]'),s=document.querySelector(".footer__form--is-valid"),v=document.querySelector(".loader"),E=document.querySelector(".backdrop"),a=document.querySelector(".modal"),m=33;let p="";u.addEventListener("input",k($,300));c.addEventListener("input",I);c.addEventListener("blur",N);c.addEventListener("focus",R);_.addEventListener("submit",T);E.addEventListener("click",H);function $(e){D(e),C()}function C(){u.value.length<=0&&(s.textContent="")}function I(e){p=e.target.value}function N(e){e.target.value.length>m&&(e.target.value=e.target.value.substring(0,m)+"...")}function R(e){e.target.value=p}function T(e){e.preventDefault();const r=new FormData(_);v.classList.remove("is-hidden"),P(Object.fromEntries(r)).then(i=>{v.classList.add("is-hidden"),a.innerHTML=w(i.data),d(),y.on(),window.addEventListener("keydown",B)}).catch(i=>{a.innerHTML=w({title:"Error"}),d()}),F()}function B(e){e.code==="Escape"&&x()}function D(e){e.target.checkValidity()?(s.classList.add("footer__form--valid"),s.classList.remove("footer__form--invalid"),s.textContent="Success"):(s.classList.remove("footer__form--valid"),s.classList.add("footer__form--invalid"),s.textContent="Invalid email, try again")}function d(){E.classList.toggle("is-hidden--modal"),a.classList.toggle("animate__bounceInRight"),a.classList.toggle("backdrop__modal__animation")}function F(){u.value="",c.value="",s.textContent="",p=""}function H(e){e.currentTarget===e.target&&x()}function x(){d(),y.off(),window.removeEventListener("keydown",B)}function w({title:e,message:r}){return`<div class="backdrop__modal__content">
        <h4>${e}</h4>
        ${r?`<p>${r}</p>`:""}
      </div>`}new g(".projects-swiper",{modules:[b],navigation:{nextEl:".projects-button-next",prevEl:".projects-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0}});new q(".about-me__list");
//# sourceMappingURL=commonHelpers.js.map
