import{S as _,N as E,a as g,d as S,b as w}from"./assets/vendor-00f7b9b2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))p(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&p(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function p(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();const q={modules:[E],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},breakpoints:{320:{slidesPerView:1},767:{slidesPerView:2,spaceBetween:16},1439:{slidesPerView:4,spaceBetween:16}}};new _(".swiper",q);const k=document.querySelector(".reviews-swiper-wrapper");async function x(){const e=await g.get("https://portfolio-js.b.goit.study/api/reviews",{headers:{accept:"application/json"}});console.log(e.data),k.insertAdjacentHTML("afterbegin",O(e.data))}function V(e){return`<div class="swiper-slide reviews-swiper-slide">
          <img
            class="reviews-img"
            src="${e.avatar_url}"
            alt="Natalia"
          />
          <div class="reviews-desc">
            <p class="reviews-name">${e.author}</p>
            <p class="reviews-text">${e.review}</p>
          </div>
        </div>`}function O(e){return e.map(V).join("")}x();const M="https://portfolio-js.b.goit.study/api";async function P(e){try{return await g.post(`${M}/requests`,e)}catch(o){return o}}const y=document.querySelector(".footer__form"),a=document.querySelector('input[name="comment"]'),d=document.querySelector('input[name="email"]'),r=document.querySelector(".footer__form--is-valid"),f=document.querySelector(".loader"),h=document.querySelector(".backdrop"),s=document.querySelector(".modal"),m=33;let u="";d.addEventListener("input",S($,300));a.addEventListener("input",B);a.addEventListener("blur",C);a.addEventListener("focus",N);y.addEventListener("submit",T);h.addEventListener("click",R);function $(e){I(e),j()}function j(){d.value.length<=0&&(r.textContent="")}function B(e){u=e.target.value}function C(e){e.target.value.length>m&&(e.target.value=e.target.value.substring(0,m)+"...")}function N(e){e.target.value=u}function T(e){e.preventDefault();const o=new FormData(y);f.classList.remove("is-hidden"),P(Object.fromEntries(o)).then(i=>{f.classList.add("is-hidden"),s.innerHTML=v(i.data),l(),w.on(),window.addEventListener("keydown",L)}).catch(i=>{s.innerHTML=v({title:"Error"}),l()}),D()}function L(e){e.code==="Escape"&&b()}function I(e){e.target.checkValidity()?(r.classList.add("footer__form--valid"),r.classList.remove("footer__form--invalid"),r.textContent="Success"):(r.classList.remove("footer__form--valid"),r.classList.add("footer__form--invalid"),r.textContent="Invalid email, try again")}function l(){h.classList.toggle("is-hidden--modal"),s.classList.toggle("animate__bounceInRight"),s.classList.toggle("backdrop__modal__animation")}function D(){d.value="",a.value="",r.textContent="",u=""}function R(e){e.currentTarget===e.target&&b()}function b(){l(),w.off(),window.removeEventListener("keydown",L)}function v({title:e,message:o}){return`<div class="backdrop__modal__content">
        <h4>${e}</h4>
        ${o?`<p>${o}</p>`:""}
      </div>`}
//# sourceMappingURL=commonHelpers.js.map
